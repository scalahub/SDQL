<!DOCTYPE html>
<!--

======== auto-generated code ========
WARNING !!! Do not edit! 
Otherwise your changes may be lost the next time this file is generated.
  
Instead edit the file that generated this code. Refer below for details

Class that generated this code: org.sh.easyweb.HTMLClientCodeGenerator

Stacktrace of the call is given below:

org.sh.reflect.CodeGenUtil$:CodeGenUtil.scala:80
org.sh.easyweb.HTMLConstants$:HTMLConstants.scala:15
org.sh.easyweb.HTMLClientCodeGenerator:HTMLClientCodeGenerator.scala:118
org.sh.easyweb.HTMLClientCodeGenerator:HTMLClientCodeGenerator.scala:81
-->

<html>
<head>
<meta content="text/html;charset=utf-8" http-equiv="Content-Type">
<!--<meta content="utf-8" http-equiv="encoding">-->
<title>Smart Scan</title>

<style type="text/css">
/* Elegant Aero */
.elegant-aero {
    margin-left:auto;
    margin-right:auto;

    max-width: 1280px;
    /* max-width: 700px; */
    background: #D2E9FF;
    padding: 20px 20px 20px 20px;
    font: 12px Arial, Helvetica, sans-serif;
    color: #666;
}
.elegant-aero h1 {
    font: 24px "Trebuchet MS", Arial, Helvetica, sans-serif;
    padding: 10px 10px 10px 20px;
    display: block;
    background: #C0E1FF;
    border-bottom: 1px solid #B8DDFF;
    margin: -20px -20px 15px;
}
.elegant-aero h1>span {
    display: block;
    font-size: 11px;
}

.elegant-aero label>span {
    float: left;
    margin-top: 10px;
    color: #5E5E5E;
}
.elegant-aero label {
    display: block;
    margin: 0px 0px 5px;
}
.elegant-aero label>span {
    float: left;
    width: 20%;
    text-align: right;
    padding-right: 15px;
    margin-top: 10px;
    font-weight: bold;
}
.elegant-aero input[type="text"], .elegant-aero input[type="email"], .elegant-aero textarea, .elegant-aero select {
    color: #888;
    width: 70%;
    padding: 0px 0px 0px 5px;
    border: 1px solid #C5E2FF;
    background: #FBFBFB;
    outline: 0;
    -webkit-box-shadow:inset 0px 1px 6px #ECF3F5;
    box-shadow: inset 0px 1px 6px #ECF3F5;
    font: 200 12px/25px Arial, Helvetica, sans-serif;
    height: 30px;
    line-height:15px;
    margin: 2px 6px 16px 0px;
}
.elegant-aero textarea{
    height:100px;
    padding: 5px 0px 0px 5px;
    width: 70%;
}
.elegant-aero select {
    background: #fbfbfb url('down-arrow.png') no-repeat right;
    background: #fbfbfb url('down-arrow.png') no-repeat right;
   appearance:none;
    -webkit-appearance:none;
   -moz-appearance: none;
    text-indent: 0.01px;
    text-overflow: '';
    width: 70%;
}
.elegant-aero .button{
    padding: 10px 30px 10px 30px;
    background: #66C1E4;
    border: none;
    color: #FFF;
    box-shadow: 1px 1px 1px #4C6E91;
    -webkit-box-shadow: 1px 1px 1px #4C6E91;
    -moz-box-shadow: 1px 1px 1px #4C6E91;
    text-shadow: 1px 1px 1px #5079A3;
   
}
.elegant-aero .button:hover{
    background: #3EB1DD;
}
p {
    font-family: Lucida Sans Typewriter,Lucida Console,monaco,Bitstream Vera Sans Mono,monospace;
    font-size: 14px;
    font-style: normal;
    font-variant: normal;
    font-weight: 400;
    line-height: 20px;
}  
</style>
  

<script type="text/javascript">
/**
 * JavaScript format string function
 * 
 */
String.prototype.format = function()
{
  var args = arguments;

  return this.replace(/{(\d+)}/g, function(match, number)
  {
    return typeof args[number] != 'undefined' ? args[number] :
                                                '{' + number + '}';
  });
};


/**
 * Convert a Javascript Oject array or String array to an HTML table
 * JSON parsing has to be made before function call
 * It allows use of other JSON parsing methods like jQuery.parseJSON
 * http(s)://, ftp://, file:// and javascript:; links are automatically computed
 *
 * JSON data samples that should be parsed and then can be converted to an HTML table
 *     var objectArray = '[{"Total":"34","Version":"1.0.4","Office":"New York"},{"Total":"67","Version":"1.1.0","Office":"Paris"}]';
 *     var stringArray = '["New York","Berlin","Paris","Marrakech","Moscow"]';
 *     var nestedTable = '[{ key1: "val1", key2: "val2", key3: { tableId: "tblIdNested1", tableClassName: "clsNested", linkText: "Download", data: [{ subkey1: "subval1", subkey2: "subval2", subkey3: "subval3" }] } }]'; 
 *
 * Code sample to create a HTML table Javascript String
 *     var jsonHtmlTable = ConvertJsonToTable(eval(dataString), 'jsonTable', null, 'Download');
 *
 * Code sample explaned
 *  - eval is used to parse a JSON dataString
 *  - table HTML id attribute will be 'jsonTable'
 *  - table HTML class attribute will not be added
 *  - 'Download' text will be displayed instead of the link itself
 *
 * @author Afshin Mehrabani <afshin dot meh at gmail dot com>
 * 
 * @class ConvertJsonToTable
 * 
 * @method ConvertJsonToTable
 * 
 * @param parsedJson object Parsed JSON data
 * @param tableId string Optional table id 
 * @param tableClassName string Optional table css class name
 * @param linkText string Optional text replacement for link pattern
 *  
 * @return string Converted JSON to HTML table
 */
function isArray(what) {
    return Object.prototype.toString.call(what) === '[object Array]';
}
function ConvertJsonToTable(parsedJson, tableId, tableClassName, linkText)
{
    //Patterns for links and NULL value
    var italic = '<i>{0}</i>';
    var link = linkText ? '<a href="{0}">' + linkText + '</a>' :
                          '<a href="{0}">{0}</a>';

    //Pattern for table                          
    var idMarkup = tableId ? ' id="' + tableId + '"' :
                             '';

    var classMarkup = tableClassName ? ' class="' + tableClassName + '"' :
                                       '';

    var tbl = '<table border="1" cellpadding="0" cellspacing="0"' + idMarkup + classMarkup + '>{0}{1}</table>';

    //Patterns for table content
    var th = '<thead>{0}</thead>';
    var tb = '<tbody>{0}</tbody>';
    var tr = '<tr>{0}</tr>';
    var thRow = '<th></th><th align="left">&nbsp;{0}&nbsp;</th>';
    var tdRow = '<td>{1}</td><td>{0}</td>';
    var thCon = '';
    var tbCon = '';
    var trCon = '';

	var headers;
	
	if(isArray(parsedJson))
	{
		var rows = parsedJson.length;
		thCon += thRow.format('Rows: '+rows);
		th = th.format(tr.format(thCon));
		for (i = 0; i < parsedJson.length; i++)
		{
			tbCon += tdRow.format(parsedJson[i], i+1);
			trCon += tr.format(tbCon);
			tbCon = '';
		}
	}

	else
	{
		thCon += thRow.format(JSON.stringify(parsedJson));
		// thCon += thRow.format(parsedJson);
		th = th.format(tr.format(thCon));
	}
	tb = tb.format(trCon);
	tbl = tbl.format(th, tb);

	return tbl;
}


/**
 * Return just the keys from the input array, optionally only for the specified search_value
 * version: 1109.2015
 *  discuss at: http://phpjs.org/functions/array_keys
 *  +   original by: Kevin van Zonneveld (http://kevin.vanzonneveld.net)
 *  +      input by: Brett Zamir (http://brett-zamir.me)
 *  +   bugfixed by: Kevin van Zonneveld (http://kevin.vanzonneveld.net)
 *  +   improved by: jd
 *  +   improved by: Brett Zamir (http://brett-zamir.me)
 *  +   input by: P
 *  +   bugfixed by: Brett Zamir (http://brett-zamir.me)
 *  *     example 1: array_keys( {firstname: 'Kevin', surname: 'van Zonneveld'} );
 *  *     returns 1: {0: 'firstname', 1: 'surname'}
 */
function array_keys(input, search_value, argStrict)
{
    var search = typeof search_value !== 'undefined', tmp_arr = [], strict = !!argStrict, include = true, key = '';

    if (input && typeof input === 'object' && input.change_key_case) { // Duck-type check for our own array()-created PHPJS_Array
        return input.keys(search_value, argStrict);
    }
 
    for (key in input)
    {
        if (input.hasOwnProperty(key))
        {
            include = true;
            if (search)
            {
                if (strict && input[key] !== search_value)
                    include = false;
                else if (input[key] != search_value)
                    include = false;
            } 
            if (include)
                tmp_arr[tmp_arr.length] = key;
        }
    }
    return tmp_arr;
}
var Base64={_keyStr:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",encode:function(e){var t="";var n,r,i,s,o,u,a;var f=0;e=Base64._utf8_encode(e);while(f<e.length){n=e.charCodeAt(f++);r=e.charCodeAt(f++);i=e.charCodeAt(f++);s=n>>2;o=(n&3)<<4|r>>4;u=(r&15)<<2|i>>6;a=i&63;if(isNaN(r)){u=a=64}else if(isNaN(i)){a=64}t=t+this._keyStr.charAt(s)+this._keyStr.charAt(o)+this._keyStr.charAt(u)+this._keyStr.charAt(a)}return t},decode:function(e){var t="";var n,r,i;var s,o,u,a;var f=0;e=e.replace(/[^A-Za-z0-9\+\/\=]/g,"");while(f<e.length){s=this._keyStr.indexOf(e.charAt(f++));o=this._keyStr.indexOf(e.charAt(f++));u=this._keyStr.indexOf(e.charAt(f++));a=this._keyStr.indexOf(e.charAt(f++));n=s<<2|o>>4;r=(o&15)<<4|u>>2;i=(u&3)<<6|a;t=t+String.fromCharCode(n);if(u!=64){t=t+String.fromCharCode(r)}if(a!=64){t=t+String.fromCharCode(i)}}t=Base64._utf8_decode(t);return t},_utf8_encode:function(e){e=e.replace(/\r\n/g,"\n");var t="";for(var n=0;n<e.length;n++){var r=e.charCodeAt(n);if(r<128){t+=String.fromCharCode(r)}else if(r>127&&r<2048){t+=String.fromCharCode(r>>6|192);t+=String.fromCharCode(r&63|128)}else{t+=String.fromCharCode(r>>12|224);t+=String.fromCharCode(r>>6&63|128);t+=String.fromCharCode(r&63|128)}}return t},_utf8_decode:function(e){var t="";var n=0;var r=c1=c2=0;while(n<e.length){r=e.charCodeAt(n);if(r<128){t+=String.fromCharCode(r);n++}else if(r>191&&r<224){c2=e.charCodeAt(n+1);t+=String.fromCharCode((r&31)<<6|c2&63);n+=2}else{c2=e.charCodeAt(n+1);c3=e.charCodeAt(n+2);t+=String.fromCharCode((r&15)<<12|(c2&63)<<6|c3&63);n+=3}}return t}}
function xmlhttpPostSend(pid, reqName, formid, params, ansid) {
  	var status = '';
	try {
          //var reqID = Math.random().toString();
          var qryStr = getquerystringSend(ansid, pid, reqName, formid, params)
          //var qryStr = getquerystringSend(reqID, pid, reqName, formid, params)
          var xmlHttpReq = false;
          var self = this;
          // Mozilla/Safari
          if (window.XMLHttpRequest) {
                  self.xmlHttpReq = new XMLHttpRequest();
          }
          // IE
          else if (window.ActiveXObject) {
                  self.xmlHttpReq = new ActiveXObject("Microsoft.XMLHTTP");
          }
          var startTime = 0;
          self.xmlHttpReq.open('POST', "/web", true);
          self.xmlHttpReq.setRequestHeader('Content-Type', 'application/x-www-form-urlencoded');
          self.xmlHttpReq.onreadystatechange = function() {
                  if (self.xmlHttpReq.readyState == 4) {
                          updateSend(self.xmlHttpReq.responseText, start); 
                  }
          }
		  
          function errorHandler(event){
                document.getElementById(ansid).innerHTML = "Request Failed";
          }
          function abortHandler(event){
                document.getElementById(ansid).innerHTML = "Request Aborted";
          }
          self.xmlHttpReq.addEventListener("error", errorHandler, false);
          self.xmlHttpReq.addEventListener("abort", abortHandler, false);
          start = window.performance.now();
          self.xmlHttpReq.send(qryStr);
          // status = 'making request: '+qryStr
          status = 'making request: '+reqName;
	}  
	catch(err) {
          status = err; 
	}  
	document.getElementById(ansid).innerHTML = status;
}
function uploadFileAndGetID(fileid, uploadresultid) {
	var formData = new FormData(),
		file = document.getElementById(fileid).files[0];
	var xmlHttpReq = false;
	var self = this;
	// Mozilla/Safari
	if (window.XMLHttpRequest) {
		  self.xmlHttpReq = new XMLHttpRequest();
	}
	// IE
	else if (window.ActiveXObject) {
		  self.xmlHttpReq = new ActiveXObject("Microsoft.XMLHTTP");
	}
	function progressHandler(event){
		var percent = (event.loaded / event.total) * 100;
		var msg = Math.round(percent)+"% uploaded... please wait";
		document.getElementById(uploadresultid).value = msg;
	}
	self.xmlHttpReq.open('POST', "/putfile", true);
	formData.append('fileUpload', file);
	self.xmlHttpReq.onreadystatechange = function() {
		if (self.xmlHttpReq.readyState == 4) {
			 document.getElementById(uploadresultid).value = self.xmlHttpReq.responseText.trim();
		}
	}
	function errorHandler(event){
		document.getElementById(uploadresultid).value = "Upload Failed";
	}
	function abortHandler(event){
		document.getElementById(uploadresultid).value = "Upload Aborted";
	}
	self.xmlHttpReq.upload.addEventListener("progress", progressHandler, false);
	self.xmlHttpReq.addEventListener("error", errorHandler, false);
	self.xmlHttpReq.addEventListener("abort", abortHandler, false);
	self.xmlHttpReq.send(formData);
	document.getElementById(uploadresultid).value = "please wait while the file is uploaded ...";  
	
}

function encodejson(formid, paraNames) {
	var arrayLength = paraNames.length;
	var json = { };
	for (var i = 0; i < arrayLength; i++) {
		var itemid = formid + "_" + paraNames[i];               
		var value = document.getElementById(itemid).value;
		if (value == '') throw "Error: parameter "+paraNames[i]+" cannot be empty";
		var key = paraNames[i];
                if (document.getElementById(itemid).type == 'textarea') {
                    value = Base64.encode(value);
                } else {
                    value = value.trim();
                }
		json[key] = value;
	}
	var jsonstring = JSON.stringify(json);
	return jsonstring;
}
function getquerystringSend(reqID, pid, reqName, formid, params) {
	var reqdata = Base64.encode(encodejson(formid, params));
	qstr = 'reqId='+escape(reqID)+'&pid='+escape(pid)+'&reqName='+escape(reqName)+'&reqData='+escape(reqdata);
	// console.log(" => "+qstr)
	return qstr;
}
  
/*
    Copyright 2008-2013
        Matthias Ehmann,
        Michael Gerhaeuser,
        Carsten Miller,
        Bianca Valentin,
        Alfred Wassermann,
        Peter Wilfahrt


    Dual licensed under the Apache License Version 2.0, or LGPL Version 3 licenses.

    You should have received a copy of the GNU Lesser General Public License
    along with JSXCompressor.  If not, see <http://www.gnu.org/licenses/>.

    You should have received a copy of the Apache License along with JSXCompressor.
    If not, see <http://www.apache.org/licenses/>.
*/
(function(){var e,r,n;(function(t){function o(e,r){return C.call(e,r)}function i(e,r){var n,t,o,i,a,u,c,f,s,l,p=r&&r.split("/"),h=k.map,d=h&&h["*"]||{};if(e&&"."===e.charAt(0))if(r){for(p=p.slice(0,p.length-1),e=p.concat(e.split("/")),f=0;e.length>f;f+=1)if(l=e[f],"."===l)e.splice(f,1),f-=1;else if(".."===l){if(1===f&&(".."===e[2]||".."===e[0]))break;f>0&&(e.splice(f-1,2),f-=2)}e=e.join("/")}else 0===e.indexOf("./")&&(e=e.substring(2));if((p||d)&&h){for(n=e.split("/"),f=n.length;f>0;f-=1){if(t=n.slice(0,f).join("/"),p)for(s=p.length;s>0;s-=1)if(o=h[p.slice(0,s).join("/")],o&&(o=o[t])){i=o,a=f;break}if(i)break;!u&&d&&d[t]&&(u=d[t],c=f)}!i&&u&&(i=u,a=c),i&&(n.splice(0,a,i),e=n.join("/"))}return e}function a(e,r){return function(){return h.apply(t,v.call(arguments,0).concat([e,r]))}}function u(e){return function(r){return i(r,e)}}function c(e){return function(r){b[e]=r}}function f(e){if(o(m,e)){var r=m[e];delete m[e],y[e]=!0,p.apply(t,r)}if(!o(b,e)&&!o(y,e))throw Error("No "+e);return b[e]}function s(e){var r,n=e?e.indexOf("!"):-1;return n>-1&&(r=e.substring(0,n),e=e.substring(n+1,e.length)),[r,e]}function l(e){return function(){return k&&k.config&&k.config[e]||{}}}var p,h,d,g,b={},m={},k={},y={},C=Object.prototype.hasOwnProperty,v=[].slice;d=function(e,r){var n,t=s(e),o=t[0];return e=t[1],o&&(o=i(o,r),n=f(o)),o?e=n&&n.normalize?n.normalize(e,u(r)):i(e,r):(e=i(e,r),t=s(e),o=t[0],e=t[1],o&&(n=f(o))),{f:o?o+"!"+e:e,n:e,pr:o,p:n}},g={require:function(e){return a(e)},exports:function(e){var r=b[e];return r!==void 0?r:b[e]={}},module:function(e){return{id:e,uri:"",exports:b[e],config:l(e)}}},p=function(e,r,n,i){var u,s,l,p,h,k,C=[];if(i=i||e,"function"==typeof n){for(r=!r.length&&n.length?["require","exports","module"]:r,h=0;r.length>h;h+=1)if(p=d(r[h],i),s=p.f,"require"===s)C[h]=g.require(e);else if("exports"===s)C[h]=g.exports(e),k=!0;else if("module"===s)u=C[h]=g.module(e);else if(o(b,s)||o(m,s)||o(y,s))C[h]=f(s);else{if(!p.p)throw Error(e+" missing "+s);p.p.load(p.n,a(i,!0),c(s),{}),C[h]=b[s]}l=n.apply(b[e],C),e&&(u&&u.exports!==t&&u.exports!==b[e]?b[e]=u.exports:l===t&&k||(b[e]=l))}else e&&(b[e]=n)},e=r=h=function(e,r,n,o,i){return"string"==typeof e?g[e]?g[e](r):f(d(e,r).f):(e.splice||(k=e,r.splice?(e=r,r=n,n=null):e=t),r=r||function(){},"function"==typeof n&&(n=o,o=i),o?p(t,e,r,n):setTimeout(function(){p(t,e,r,n)},4),h)},h.config=function(e){return k=e,k.deps&&h(k.deps,k.callback),h},n=function(e,r,n){r.splice||(n=r,r=[]),o(b,e)||o(m,e)||(m[e]=[e,r,n])},n.amd={jQuery:!0}})(),n("../node_modules/almond/almond",function(){}),n("jxg",[],function(){var e={};return"object"!=typeof JXG||JXG.extend||(e=JXG),e.extend=function(e,r,n,t){var o,i;n=n||!1,t=t||!1;for(o in r)(!n||n&&r.hasOwnProperty(o))&&(i=t?o.toLowerCase():o,e[i]=r[o])},e.extend(e,{boards:{},readers:{},elements:{},registerElement:function(e,r){e=e.toLowerCase(),this.elements[e]=r},registerReader:function(e,r){var n,t;for(n=0;r.length>n;n++)t=r[n].toLowerCase(),"function"!=typeof this.readers[t]&&(this.readers[t]=e)},shortcut:function(e,r){return function(){return e[r].apply(this,arguments)}},getRef:function(e,r){return e.select(r)},getReference:function(e,r){return e.select(r)},debugInt:function(){var e,r;for(e=0;arguments.length>e;e++)r=arguments[e],"object"==typeof window&&window.console&&console.log?console.log(r):"object"==typeof document&&document.getElementById("debug")&&(document.getElementById("debug").innerHTML+=r+"<br/>")},debugWST:function(){var r=Error();e.debugInt.apply(this,arguments),r&&r.stack&&(e.debugInt("stacktrace"),e.debugInt(r.stack.split("\n").slice(1).join("\n")))},debugLine:function(){var r=Error();e.debugInt.apply(this,arguments),r&&r.stack&&e.debugInt("Called from",r.stack.split("\n").slice(2,3).join("\n"))},debug:function(){e.debugInt.apply(this,arguments)}}),e}),n("utils/zip",["jxg"],function(e){var r=[0,128,64,192,32,160,96,224,16,144,80,208,48,176,112,240,8,136,72,200,40,168,104,232,24,152,88,216,56,184,120,248,4,132,68,196,36,164,100,228,20,148,84,212,52,180,116,244,12,140,76,204,44,172,108,236,28,156,92,220,60,188,124,252,2,130,66,194,34,162,98,226,18,146,82,210,50,178,114,242,10,138,74,202,42,170,106,234,26,154,90,218,58,186,122,250,6,134,70,198,38,166,102,230,22,150,86,214,54,182,118,246,14,142,78,206,46,174,110,238,30,158,94,222,62,190,126,254,1,129,65,193,33,161,97,225,17,145,81,209,49,177,113,241,9,137,73,201,41,169,105,233,25,153,89,217,57,185,121,249,5,133,69,197,37,165,101,229,21,149,85,213,53,181,117,245,13,141,77,205,45,173,109,237,29,157,93,221,61,189,125,253,3,131,67,195,35,163,99,227,19,147,83,211,51,179,115,243,11,139,75,203,43,171,107,235,27,155,91,219,59,187,123,251,7,135,71,199,39,167,103,231,23,151,87,215,55,183,119,247,15,143,79,207,47,175,111,239,31,159,95,223,63,191,127,255],n=[3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,0,0],t=[0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0,99,99],o=[1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577],i=[0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13],a=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15],u=256;return e.Util=e.Util||{},e.Util.Unzip=function(c){function f(){return R+=8,O>X?c[X++]:-1}function s(){B=1}function l(){var e;try{return R++,e=1&B,B>>=1,0===B&&(B=f(),e=1&B,B=128|B>>1),e}catch(r){throw r}}function p(e){var n=0,t=e;try{for(;t--;)n=n<<1|l();e&&(n=r[n]>>8-e)}catch(o){throw o}return n}function h(){J=0}function d(e){j++,G[J++]=e,z.push(String.fromCharCode(e)),32768===J&&(J=0)}function g(){this.b0=0,this.b1=0,this.jump=null,this.jumppos=-1}function b(){for(;;){if(M[H]>=x)return-1;if(U[M[H]]===H)return M[H]++;M[H]++}}function m(){var e,r=P[F];if(17===H)return-1;if(F++,H++,e=b(),e>=0)r.b0=e;else if(r.b0=32768,m())return-1;if(e=b(),e>=0)r.b1=e,r.jump=null;else if(r.b1=32768,r.jump=P[F],r.jumppos=F,m())return-1;return H--,0}function k(e,r,n){var t;for(P=e,F=0,U=n,x=r,t=0;17>t;t++)M[t]=0;return H=0,m()?-1:0}function y(e){for(var r,n,t,o=0,i=e[o];;)if(t=l()){if(!(32768&i.b1))return i.b1;for(i=i.jump,r=e.length,n=0;r>n;n++)if(e[n]===i){o=n;break}}else{if(!(32768&i.b0))return i.b0;o++,i=e[o]}}function C(){var u,c,b,m,C,v,A,j,w,U,x,S,z,I,E,L,O;do if(u=l(),b=p(2),0===b)for(s(),U=f(),U|=f()<<8,S=f(),S|=f()<<8,65535&(U^~S)&&e.debug("BlockLen checksum mismatch\n");U--;)c=f(),d(c);else if(1===b)for(;;)if(C=r[p(7)]>>1,C>23?(C=C<<1|l(),C>199?(C-=128,C=C<<1|l()):(C-=48,C>143&&(C+=136))):C+=256,256>C)d(C);else{if(256===C)break;for(C-=257,w=p(t[C])+n[C],C=r[p(5)]>>3,i[C]>8?(x=p(8),x|=p(i[C]-8)<<8):x=p(i[C]),x+=o[C],C=0;w>C;C++)c=G[32767&J-x],d(c)}else if(2===b){for(A=Array(320),I=257+p(5),E=1+p(5),L=4+p(4),C=0;19>C;C++)A[C]=0;for(C=0;L>C;C++)A[a[C]]=p(3);for(w=q.length,m=0;w>m;m++)q[m]=new g;if(k(q,19,A,0))return h(),1;for(z=I+E,m=0,O=-1;z>m;)if(O++,C=y(q),16>C)A[m++]=C;else if(16===C){if(C=3+p(2),m+C>z)return h(),1;for(v=m?A[m-1]:0;C--;)A[m++]=v}else{if(C=17===C?3+p(3):11+p(7),m+C>z)return h(),1;for(;C--;)A[m++]=0}for(w=T.length,m=0;w>m;m++)T[m]=new g;if(k(T,I,A,0))return h(),1;for(w=T.length,m=0;w>m;m++)q[m]=new g;for(j=[],m=I;A.length>m;m++)j[m-I]=A[m];if(k(q,E,j,0))return h(),1;for(;;)if(C=y(T),C>=256){if(C-=256,0===C)break;for(C-=1,w=p(t[C])+n[C],C=y(q),i[C]>8?(x=p(8),x|=p(i[C]-8)<<8):x=p(i[C]),x+=o[C];w--;)c=G[32767&J-x],d(c)}else d(C)}while(!u);return h(),s(),0}function v(){var e,r,n,t,o,i,a,c,s=[];try{if(z=[],L=!1,s[0]=f(),s[1]=f(),120===s[0]&&218===s[1]&&(C(),E[I]=[z.join(""),"geonext.gxt"],I++),31===s[0]&&139===s[1]&&(S(),E[I]=[z.join(""),"file"],I++),80===s[0]&&75===s[1]&&(L=!0,s[2]=f(),s[3]=f(),3===s[2]&&4===s[3])){for(s[0]=f(),s[1]=f(),A=f(),A|=f()<<8,c=f(),c|=f()<<8,f(),f(),f(),f(),a=f(),a|=f()<<8,a|=f()<<16,a|=f()<<24,i=f(),i|=f()<<8,i|=f()<<16,i|=f()<<24,o=f(),o|=f()<<8,o|=f()<<16,o|=f()<<24,t=f(),t|=f()<<8,n=f(),n|=f()<<8,e=0,N=[];t--;)r=f(),"/"===r|":"===r?e=0:u-1>e&&(N[e++]=String.fromCharCode(r));for(w||(w=N),e=0;n>e;)r=f(),e++;j=0,8===c&&(C(),E[I]=Array(2),E[I][0]=z.join(""),E[I][1]=N.join(""),I++),S()}}catch(l){throw l}}var A,j,w,U,x,S,z=[],I=0,E=[],G=Array(32768),J=0,L=!1,O=c.length,X=0,B=1,R=0,T=Array(288),q=Array(32),F=0,P=null,H=(Array(64),Array(64),0),M=Array(17),N=[];M[0]=0,S=function(){var e,r,n,t,o,i,a=[];if(8&A&&(a[0]=f(),a[1]=f(),a[2]=f(),a[3]=f(),80===a[0]&&75===a[1]&&7===a[2]&&8===a[3]?(e=f(),e|=f()<<8,e|=f()<<16,e|=f()<<24):e=a[0]|a[1]<<8|a[2]<<16|a[3]<<24,r=f(),r|=f()<<8,r|=f()<<16,r|=f()<<24,n=f(),n|=f()<<8,n|=f()<<16,n|=f()<<24),L&&v(),a[0]=f(),8===a[0]){if(A=f(),f(),f(),f(),f(),f(),t=f(),4&A)for(a[0]=f(),a[2]=f(),H=a[0]+256*a[1],o=0;H>o;o++)f();if(8&A)for(o=0,N=[],i=f();i;)("7"===i||":"===i)&&(o=0),u-1>o&&(N[o++]=i),i=f();if(16&A)for(i=f();i;)i=f();2&A&&(f(),f()),C(),e=f(),e|=f()<<8,e|=f()<<16,e|=f()<<24,n=f(),n|=f()<<8,n|=f()<<16,n|=f()<<24,L&&v()}},e.Util.Unzip.prototype.unzipFile=function(e){var r;for(this.unzip(),r=0;E.length>r;r++)if(E[r][1]===e)return E[r][0];return""},e.Util.Unzip.prototype.unzip=function(){return v(),E}},e.Util}),n("utils/encoding",["jxg"],function(e){var r=0,n=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,9,9,9,9,9,9,9,9,9,9,9,9,9,9,9,9,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,8,8,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,10,3,3,3,3,3,3,3,3,3,3,3,3,4,3,3,11,6,6,6,5,8,8,8,8,8,8,8,8,8,8,8,0,12,24,36,60,96,84,12,12,12,48,72,12,12,12,12,12,12,12,12,12,12,12,12,12,0,12,12,12,12,12,0,12,0,12,12,12,24,12,12,12,12,12,24,12,24,12,12,12,12,12,12,12,12,12,24,12,12,12,12,12,24,12,12,12,12,12,12,12,24,12,12,12,12,12,12,12,12,12,36,12,36,12,12,12,36,12,12,12,12,12,36,12,36,12,12,12,36,12,12,12,12,12,12,12,12,12,12];return e.Util=e.Util||{},e.Util.UTF8={encode:function(e){var r,n,t="",o=e.length;if(e=e.replace(/\r\n/g,"\n"),"function"==typeof unescape&&"function"==typeof encodeURIComponent)return unescape(encodeURIComponent(e));for(r=0;o>r;r++)n=e.charCodeAt(r),128>n?t+=String.fromCharCode(n):n>127&&2048>n?(t+=String.fromCharCode(192|n>>6),t+=String.fromCharCode(128|63&n)):(t+=String.fromCharCode(224|n>>12),t+=String.fromCharCode(128|63&n>>6),t+=String.fromCharCode(128|63&n));return t},decode:function(e){var t,o,i,a=0,u=0,c=r,f=[],s=e.length,l=[];for(t=0;s>t;t++)o=e.charCodeAt(t),i=n[o],u=c!==r?63&o|u<<6:255>>i&o,c=n[256+c+i],c===r&&(u>65535?f.push(55232+(u>>10),56320+(1023&u)):f.push(u),a++,0===a%1e4&&(l.push(String.fromCharCode.apply(null,f)),f=[]));return l.push(String.fromCharCode.apply(null,f)),l.join("")},asciiCharCodeAt:function(e,r){var n=e.charCodeAt(r);if(n>255)switch(n){case 8364:n=128;break;case 8218:n=130;break;case 402:n=131;break;case 8222:n=132;break;case 8230:n=133;break;case 8224:n=134;break;case 8225:n=135;break;case 710:n=136;break;case 8240:n=137;break;case 352:n=138;break;case 8249:n=139;break;case 338:n=140;break;case 381:n=142;break;case 8216:n=145;break;case 8217:n=146;break;case 8220:n=147;break;case 8221:n=148;break;case 8226:n=149;break;case 8211:n=150;break;case 8212:n=151;break;case 732:n=152;break;case 8482:n=153;break;case 353:n=154;break;case 8250:n=155;break;case 339:n=156;break;case 382:n=158;break;case 376:n=159;break;default:}return n}},e.Util.UTF8}),n("utils/base64",["jxg","utils/encoding"],function(e,r){function n(e,r){return 255&e.charCodeAt(r)}function t(e,r){var n=o.indexOf(e.charAt(r));if(-1===n)throw Error("JSXGraph/utils/base64: Can't decode string (invalid character).");return n}var o="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",i="=";return e.Util=e.Util||{},e.Util.Base64={encode:function(e){var t,a,u,c,f,s=[];for(f=r.encode(e),u=f.length,c=u%3,t=0;u-c>t;t+=3)a=n(f,t)<<16|n(f,t+1)<<8|n(f,t+2),s.push(o.charAt(a>>18),o.charAt(63&a>>12),o.charAt(63&a>>6),o.charAt(63&a));switch(c){case 1:a=n(f,u-1),s.push(o.charAt(a>>2),o.charAt(63&a<<4),i,i);break;case 2:a=n(f,u-2)<<8|n(f,u-1),s.push(o.charAt(a>>10),o.charAt(63&a>>4),o.charAt(63&a<<2),i)}return s.join("")},decode:function(e,n){var o,a,u,c,f,s,l=[],p=[];if(o=e.replace(/[^A-Za-z0-9\+\/=]/g,""),u=o.length,0!==u%4)throw Error("JSXGraph/utils/base64: Can't decode string (invalid input length).");for(o.charAt(u-1)===i&&(c=1,o.charAt(u-2)===i&&(c=2),u-=4),a=0;u>a;a+=4)f=t(o,a)<<18|t(o,a+1)<<12|t(o,a+2)<<6|t(o,a+3),p.push(f>>16,255&f>>8,255&f),0===a%1e4&&(l.push(String.fromCharCode.apply(null,p)),p=[]);switch(c){case 1:f=t(o,u)<<12|t(o,u+1)<<6|t(o,u+2),p.push(f>>10,255&f>>2);break;case 2:f=t(o,a)<<6|t(o,a+1),p.push(f>>4)}return l.push(String.fromCharCode.apply(null,p)),s=l.join(""),n&&(s=r.decode(s)),s},decodeAsArray:function(e){var r,n=this.decode(e),t=[],o=n.length;for(r=0;o>r;r++)t[r]=n.charCodeAt(r);return t}},e.Util.Base64}),n("../build/compressor.deps.js",["jxg","utils/zip","utils/base64"],function(e,r,n){return e.decompress=function(e){return unescape(new r.Unzip(n.decodeAsArray(e)).unzip()[0][0])},e}),window.JXG=r("../build/compressor.deps.js")})();

function updateSend(str, start){
	var end =  window.performance.now();
	var st = str.trim();
	var sp = st.split(':');
	var ansid = sp[0];

	// var decoded = Base64.decode(sp[1]);    // sp[1] contains Base64 encoded compressed bytes using GZip. See server source below:
	
	var decoded = JXG.decompress(sp[1]);
	/*	

		// Scala code used for compression
	  private def uncompress(s:String) = uncompressT(s, a => a).mkString
	  private def uncompressT[T](compressed:String, fromJson:String => Seq[T]) = {
		using(new GZIPInputStream(new ByteArrayInputStream(new sun.misc.BASE64Decoder().decodeBuffer(compressed)))){is =>
		  fromJson(scala.io.Source.fromInputStream(is).mkString)
		}
	  }  

	  private def compress(s:String) = compressT[Char](s, a => a.mkString)
  	  private def compressT[T](u:Seq[T], toJson:Seq[T] => String) = {
		val baos = new ByteArrayOutputStream
		using(new OutputStreamWriter(new GZIPOutputStream(baos))){osw =>
		  osw.write(toJson(u))
		}
		new sun.misc.BASE64Encoder().encode(baos.toByteArray)    
	  }
	*/
	


	var resp = "";
	try {
		  resp = JSON.parse(decoded);
	} catch (err) {
		  resp = decoded;
	}  
	// document.getElementById(ansid).innerHTML = 'result: <br>'+JSON.stringify(resp);
	var p = JSON.stringify(resp);
	var x = JSON.parse(p);
	var jsonHtmlTable = null;
	//if (document.getElementById(ansid).className == "file") {
	//	var y = '<a target="_blank" href="/getfile?fileID='+x+'">'+x+'</a>';
	//	jsonHtmlTable = y;
	//} else {
		jsonHtmlTable = ConvertJsonToTable(x, 'jsonTable', null, 'Download');
	//}
	document.getElementById(ansid).innerHTML = 'result: '+
			  '(<a href="javascript:void(null)" onclick="document.getElementById(\''+
			  ansid+'\').innerHTML = \'\'">clear</a>)'+' [timestamp: '+(Date.now())+';time elapsed: '+((end-start)/1000).toFixed(5)+' seconds]'+
			  '<br>'+jsonHtmlTable;
} 
function boolSelect(inputID, value) {
	document.getElementById(inputID).value = value;
}
function dateSelect(inputID, value) {
	var date = new Date(value);
        document.getElementById(inputID).value = date.getTime();
}
function toggleHide(selectorID, fieldID) {      
        var selectorState = document.getElementById(selectorID).style.display;
        var fieldState = document.getElementById(fieldID).style.display;
        document.getElementById(selectorID).style.display = selectorState === 'none' ? 'block' : 'none';
        document.getElementById(fieldID).style.display = fieldState === 'none' ? 'block' : 'none';
}
function getAddress() {
        return(document.links[0].href);
}
  // https://stackoverflow.com/a/197761/243233
  // https://stackoverflow.com/a/3871370/243233
function changeBackground(color) {
	// https://stackoverflow.com/a/14307259/243233
        document.body.style.background = color;
	var elements = document.getElementsByClassName('elegant-aero');
        for (var i = 0; i < elements.length; i++) {
 	   elements[i].style.backgroundColor=color;
        }
}
  
function changeBGIfLocalhost() {
    var string = getAddress();
    var substring = "localhost";
    var port = location.port;
    var bg = '#D3C6C6';
    if (port == 8080) bg = '#eae71e';
    // https://stackoverflow.com/a/1789952/243233
    if (string.indexOf(substring) !== -1){
        changeBackground(bg);	
    }
}
</script>
</head>
<body onload='changeBGIfLocalhost();'>  
    <h1 id='top'>Classes (4)</h1>
        <a href="#sdql.Analyzer">sdql.Analyzer</a> (<a href="#sdql.Analyzer.Methods">3</a>)<br>
<a href="#sdql.AnalyzerMultiTenant">sdql.AnalyzerMultiTenant</a> (<a href="#sdql.AnalyzerMultiTenant.Methods">4</a>)<br>
<a href="#sdql.Compiler">sdql.Compiler</a> (<a href="#sdql.Compiler.Methods">2</a>)<br>
<a href="#sdql.Config">sdql.Config</a> (<a href="#sdql.Config.Methods">5</a>)
    <br>
      Total methods found: 14
    <br><hr><h2>Smart Scan</h2>Smart Scan is a static analysis tool for Solidty smart contracts. It detects bug patterns encoded in a DSL (domain-specific language) called Solidity Data Query Language (SDQL). <br>It is highly configurable and has a user-friendly syntax. <br><br>	<h3>HOW TO USE THIS SITE</h3><br>(a) Create/obtain a SDQL file containing your analysis. Test that it compiles successfully using the method <a href='#sdql.Compiler.compileSDQLCode'>sdql.Compiler.compileSDQLCode</a><br>(b) Paste the contents of the SDQL file + Solidity file and start the analysis using the method <a href='#sdql.Analyzer.doAnalysis'>sdql.Analyzer.doAnalysis</a>.
    <br>
    <hr>
    
<h3 id='sdql.Analyzer'>sdql.Analyzer (3)</h3><table border="1" style="width:100%" id="sdql.Analyzer.Methods">
      <tr>
        <th>Displayed Name</th>
        <th>Original Name</th>
        <th>Parameters</th>
        <th>Return Type</th>
      </tr><tr><td><a href="#sdql.Analyzer.addBugPattern">addBugPattern</a></td><td>addBugPattern</td><td>(name:String, description:String, sdql:org.sh.easyweb.Text, level:int)</td><td>String</td></tr><tr><td><a href="#sdql.Analyzer.doAnalysis">doAnalysis</a></td><td>doAnalysis</td><td>(solidityCode:org.sh.easyweb.Text)</td><td>org.json.JSONObject</td></tr><tr><td><a href="#sdql.Analyzer.getBugPatterns">getBugPatterns</a></td><td>getBugPatterns</td><td></td><td>org.json.JSONObject</td></tr>
    </table>
<br>

<form id="sdql.Analyzer.addBugPattern" class="elegant-aero">

 <h1><small>sdql.Analyzer.addBugPattern</small></h1>

   <label>
    <span>name [String]:</span>
    <input id="sdql.Analyzer.addBugPattern_name" value="Invoke with successors" type="text" name="name" /><br>
   </label>


   <label>
    <span>description [String]:</span>
    <input id="sdql.Analyzer.addBugPattern_description" value="Invoke statements followed by some code (i.e., invoke is not the last statement)" type="text" name="description" /><br>
   </label>


   <label>
    <span>sdql [Text]:</span>
    <textarea id="sdql.Analyzer.addBugPattern_sdql" name="sdql">
// finds all invoke statememts having control-flow to any other statement
// (i.e., not the last statement)
    
find #Flow:firstSrc where {@src = #Invoke}</textarea><br>
   </label>


   <label>
    <span>level [Int]:</span>
    <input id="sdql.Analyzer.addBugPattern_level" value="" type="text" name="level" /><br>
   </label>

   <label>
     <span></span>
     <input value="submit" type="button" onclick='JavaScript:xmlhttpPostSend("CF3KIvJsfpNf9smi","addBugPattern","sdql.Analyzer.addBugPattern",["name","description","sdql","level"],"sdql.Analyzer_addBugPattern_Ans")'>
   </label>
 
   <div id="sdql.Analyzer_addBugPattern_Ans" class="alphaNum"></div>
</form>
<a href="#top">top</a> <a href="#sdql.Analyzer">parent</a>


<form id="sdql.Analyzer.doAnalysis" class="elegant-aero">

 <h1><small>sdql.Analyzer.doAnalysis</small></h1>

   <label>
    <span>solidityCode [Text]:</span>
    <textarea id="sdql.Analyzer.doAnalysis_solidityCode" name="solidityCode">
    
// replace with your code
pragma solidity ^0.4.0;

contract BadSend {
    uint storedData; // State variable
    function badSend(address receiver, uint howMany, uint abc) {
      if (!receiver.send(howMany)) throw;
      bar(howMany, abc, receiver);              // code after send (Bug #2)
      if (!msg.sender.send(howMany)) throw;     // multiple sends (Bug #1)
    }
    function bar(uint x, uint y, address z) {   // dummy method
       throw;
    }
}

contract ExternalCaller {
    function foo(address ss) {
       BadSend s1 = BadSend(ss);             // existing contract deployment (Bug #3)
    }       
    function bar(address ss) {
       BadSend s2 = new BadSend();           // new contract deployment
    }       
}
contract metaCoin {
    mapping (address => uint) public balances;
    function metaCoin() {
        balances[msg.sender] = 10000;
    }
    function sendToken(address receiver, uint amount) returns(bool successful){
        if (balances[msg.sender] < amount) return false;
        balances[msg.sender] -= amount;
        balances[receiver] += amount;
        return false;
    }
}
contract MetaCoinCaller{
    function sendCoin(address coinContractAddress, address receiver, uint amount){
        metaCoin m = metaCoin(coinContractAddress);  // bad! use of external contract (bug #3)
        if (!m.sendToken(receiver, amount)) throw;              
        address sender = tx.origin;                  // bad! use of tx.origin (bug #4)
        if (!m.sendToken(sender, amount)) throw;
        if (!coinContractAddress.call.value(amount)()) throw; // bad! use of call (bug #5)
    }
}    
    
contract LargeFallback{
    function() payable { // fallback function with heavy processing (Bug #6)
       uint amount = msg.value;
       address coinContractAddress = 0x234;
       address receiver = 0x12;
       if (!msg.sender.send(10000)) throw;
       metaCoin m = metaCoin(coinContractAddress);  // bad! use of external contract (bug #3)
       if (!m.sendToken(receiver, amount)) throw;              
       address sender = tx.origin;                  // bad! use of tx.origin (bug #4)
       if (!m.sendToken(sender, amount)) throw;
       if (!coinContractAddress.call.value(amount)()) throw; // bad! use of call (bug #5)
    }
    
}
    
contract BugInLoop {
    uint a;
    function whileExample() {
        while (msg.sender != 0x123) {
            a += 1; // writes in loop
        }
    }
    function forExample() {
        for (uint p = 0; p < 30; p++) {
            if (!msg.sender.send(100)) throw; // writes in loop
        }
    }
}
</textarea><br>
   </label>

   <label>
     <span></span>
     <input value="submit" type="button" onclick='JavaScript:xmlhttpPostSend("CF3KIvJsfpNf9smi","doAnalysis","sdql.Analyzer.doAnalysis",["solidityCode"],"sdql.Analyzer_doAnalysis_Ans")'>
   </label>
 
   <div id="sdql.Analyzer_doAnalysis_Ans" class="alphaNum"></div>
</form>
<a href="#top">top</a> <a href="#sdql.Analyzer">parent</a>


<form id="sdql.Analyzer.getBugPatterns" class="elegant-aero">

 <h1><small>sdql.Analyzer.getBugPatterns</small></h1>
   <label>
     <span></span>
     <input value="submit" type="button" onclick='JavaScript:xmlhttpPostSend("CF3KIvJsfpNf9smi","getBugPatterns","sdql.Analyzer.getBugPatterns",[],"sdql.Analyzer_getBugPatterns_Ans")'>
   </label>
 
   <div id="sdql.Analyzer_getBugPatterns_Ans" class="alphaNum"></div>
</form>
<a href="#top">top</a> <a href="#sdql.Analyzer">parent</a>
<hr>
<h3 id='sdql.AnalyzerMultiTenant'>sdql.AnalyzerMultiTenant (4)</h3><table border="1" style="width:100%" id="sdql.AnalyzerMultiTenant.Methods">
      <tr>
        <th>Displayed Name</th>
        <th>Original Name</th>
        <th>Parameters</th>
        <th>Return Type</th>
      </tr><tr><td><a href="#sdql.AnalyzerMultiTenant.userCreate">userCreate</a></td><td>userCreate</td><td>(userID:String)</td><td>long</td></tr><tr><td><a href="#sdql.AnalyzerMultiTenant.userDeleteBugPattern">userDeleteBugPattern</a></td><td>userDeleteBugPattern</td><td>(userID:String, patternID:String)</td><td>int</td></tr><tr><td><a href="#sdql.AnalyzerMultiTenant.userDoAnalysis">userDoAnalysis</a></td><td>userDoAnalysis</td><td>(userID:String, solidityCode:org.sh.easyweb.Text)</td><td>org.json.JSONObject</td></tr><tr><td><a href="#sdql.AnalyzerMultiTenant.userGetBugPatterns">userGetBugPatterns</a></td><td>userGetBugPatterns</td><td>(userID:String)</td><td>org.json.JSONObject</td></tr>
    </table>
<br>

<form id="sdql.AnalyzerMultiTenant.userCreate" class="elegant-aero">

 <h1><small>sdql.AnalyzerMultiTenant.userCreate</small></h1>

   <label>
    <span>userID [String]:</span>
    <input id="sdql.AnalyzerMultiTenant.userCreate_userID" value="" type="text" name="userID" /><br>
   </label>

   <label>
     <span></span>
     <input value="submit" type="button" onclick='JavaScript:xmlhttpPostSend("tLIv1qSV0nby0vV","userCreate","sdql.AnalyzerMultiTenant.userCreate",["userID"],"sdql.AnalyzerMultiTenant_userCreate_Ans")'>
   </label>
 
   <div id="sdql.AnalyzerMultiTenant_userCreate_Ans" class="alphaNum"></div>
</form>
<a href="#top">top</a> <a href="#sdql.AnalyzerMultiTenant">parent</a>


<form id="sdql.AnalyzerMultiTenant.userDeleteBugPattern" class="elegant-aero">

 <h1><small>sdql.AnalyzerMultiTenant.userDeleteBugPattern</small></h1>

   <label>
    <span>userID [String]:</span>
    <input id="sdql.AnalyzerMultiTenant.userDeleteBugPattern_userID" value="" type="text" name="userID" /><br>
   </label>


   <label>
    <span>patternID [String]:</span>
    <input id="sdql.AnalyzerMultiTenant.userDeleteBugPattern_patternID" value="" type="text" name="patternID" /><br>
   </label>

   <label>
     <span></span>
     <input value="submit" type="button" onclick='JavaScript:xmlhttpPostSend("tLIv1qSV0nby0vV","userDeleteBugPattern","sdql.AnalyzerMultiTenant.userDeleteBugPattern",["userID","patternID"],"sdql.AnalyzerMultiTenant_userDeleteBugPattern_Ans")'>
   </label>
 
   <div id="sdql.AnalyzerMultiTenant_userDeleteBugPattern_Ans" class="alphaNum"></div>
</form>
<a href="#top">top</a> <a href="#sdql.AnalyzerMultiTenant">parent</a>


<form id="sdql.AnalyzerMultiTenant.userDoAnalysis" class="elegant-aero">

 <h1><small>sdql.AnalyzerMultiTenant.userDoAnalysis</small></h1>

   <label>
    <span>userID [String]:</span>
    <input id="sdql.AnalyzerMultiTenant.userDoAnalysis_userID" value="" type="text" name="userID" /><br>
   </label>


   <label>
    <span>solidityCode [Text]:</span>
    <textarea id="sdql.AnalyzerMultiTenant.userDoAnalysis_solidityCode" name="solidityCode"></textarea><br>
   </label>

   <label>
     <span></span>
     <input value="submit" type="button" onclick='JavaScript:xmlhttpPostSend("tLIv1qSV0nby0vV","userDoAnalysis","sdql.AnalyzerMultiTenant.userDoAnalysis",["userID","solidityCode"],"sdql.AnalyzerMultiTenant_userDoAnalysis_Ans")'>
   </label>
 
   <div id="sdql.AnalyzerMultiTenant_userDoAnalysis_Ans" class="alphaNum"></div>
</form>
<a href="#top">top</a> <a href="#sdql.AnalyzerMultiTenant">parent</a>


<form id="sdql.AnalyzerMultiTenant.userGetBugPatterns" class="elegant-aero">

 <h1><small>sdql.AnalyzerMultiTenant.userGetBugPatterns</small></h1>

   <label>
    <span>userID [String]:</span>
    <input id="sdql.AnalyzerMultiTenant.userGetBugPatterns_userID" value="" type="text" name="userID" /><br>
   </label>

   <label>
     <span></span>
     <input value="submit" type="button" onclick='JavaScript:xmlhttpPostSend("tLIv1qSV0nby0vV","userGetBugPatterns","sdql.AnalyzerMultiTenant.userGetBugPatterns",["userID"],"sdql.AnalyzerMultiTenant_userGetBugPatterns_Ans")'>
   </label>
 
   <div id="sdql.AnalyzerMultiTenant_userGetBugPatterns_Ans" class="alphaNum"></div>
</form>
<a href="#top">top</a> <a href="#sdql.AnalyzerMultiTenant">parent</a>
<hr>
<h3 id='sdql.Compiler'>sdql.Compiler (2)</h3><table border="1" style="width:100%" id="sdql.Compiler.Methods">
      <tr>
        <th>Displayed Name</th>
        <th>Original Name</th>
        <th>Parameters</th>
        <th>Return Type</th>
      </tr><tr><td><a href="#sdql.Compiler.compileSDQLCode">compileSDQLCode</a></td><td>compileSDQLCode</td><td>(sdqlCode:org.sh.easyweb.Text)</td><td>String</td></tr><tr><td><a href="#sdql.Compiler.compileSolidityCode">compileSolidityCode</a></td><td>compileSolidityCode</td><td>(solidityCode:org.sh.easyweb.Text, printTree:boolean)</td><td>String[]</td></tr>
    </table>
<br>

<form id="sdql.Compiler.compileSDQLCode" class="elegant-aero">

 <h1><small>sdql.Compiler.compileSDQLCode</small></h1>

   <label>
    <span>sdqlCode [Text]:</span>
    <textarea id="sdql.Compiler.compileSDQLCode_sdqlCode" name="sdqlCode">
// replace with your own code
    
patterns solidity
find #ContractDefinition
</textarea><br>
   </label>

   <label>
     <span></span>
     <input value="submit" type="button" onclick='JavaScript:xmlhttpPostSend("bfySC64dmduHxT","compileSDQLCode","sdql.Compiler.compileSDQLCode",["sdqlCode"],"sdql.Compiler_compileSDQLCode_Ans")'>
   </label>
 
   <div id="sdql.Compiler_compileSDQLCode_Ans" class="alphaNum"></div>
</form>
<a href="#top">top</a> <a href="#sdql.Compiler">parent</a>


<form id="sdql.Compiler.compileSolidityCode" class="elegant-aero">

 <h1><small>sdql.Compiler.compileSolidityCode</small></h1>

   <label>
    <span>solidityCode [Text]:</span>
    <textarea id="sdql.Compiler.compileSolidityCode_solidityCode" name="solidityCode">
// replace with your solidity code
// this is used to understand how the tool constructs its internal tree
    
pragma solidity ^0.4.0;
    
contract SimpleStorage {
    uint storedData; // State variable
}</textarea><br>
   </label>


   <label>
    <span>printTree [Boolean]:</span>
   </label>
    <div>
      <input type="radio"  checked="checked"  name="sdql.Compiler.compileSolidityCode_printTree" onclick="boolSelect('sdql.Compiler.compileSolidityCode_printTree', this.value);" value="true">Yes   
      <input type="radio"  name="sdql.Compiler.compileSolidityCode_printTree" onclick="boolSelect('sdql.Compiler.compileSolidityCode_printTree', this.value);" value="false">No
    </div>
    <input id="sdql.Compiler.compileSolidityCode_printTree" type="hidden" name="sdql.Compiler.compileSolidityCode_printTree_input" value="true"><br>
   <label><br/>
   </label>

   <label>
     <span></span>
     <input value="submit" type="button" onclick='JavaScript:xmlhttpPostSend("bfySC64dmduHxT","compileSolidityCode","sdql.Compiler.compileSolidityCode",["solidityCode","printTree"],"sdql.Compiler_compileSolidityCode_Ans")'>
   </label>
 
   <div id="sdql.Compiler_compileSolidityCode_Ans" class="alphaNum"></div>
</form>
<a href="#top">top</a> <a href="#sdql.Compiler">parent</a>
<hr>
<h3 id='sdql.Config'>sdql.Config (5)</h3><table border="1" style="width:100%" id="sdql.Config.Methods">
      <tr>
        <th>Displayed Name</th>
        <th>Original Name</th>
        <th>Parameters</th>
        <th>Return Type</th>
      </tr><tr><td><a href="#sdql.Config.getBasis">getBasis</a></td><td>getBasis</td><td></td><td>String[]</td></tr><tr><td><a href="#sdql.Config.getMappings">getMappings</a></td><td>getMappings</td><td></td><td>scala.collection.immutable.Seq</td></tr><tr><td><a href="#sdql.Config.getRules">getRules</a></td><td>getRules</td><td></td><td>String[]</td></tr><tr><td><a href="#sdql.Config.setBasisAndRules">setBasisAndRules</a></td><td>setBasisAndRules</td><td>(basis:org.sh.easyweb.Text, rules:org.sh.easyweb.Text)</td><td>String</td></tr><tr><td><a href="#sdql.Config.setMappings">setMappings</a></td><td>setMappings</td><td>(mappings:org.sh.easyweb.Text)</td><td>String</td></tr>
    </table>
<br>

<form id="sdql.Config.getBasis" class="elegant-aero">

 <h1><small>sdql.Config.getBasis</small></h1>
   <label>
     <span></span>
     <input value="submit" type="button" onclick='JavaScript:xmlhttpPostSend("2NuRNo2HHIGz5Dko","getBasis","sdql.Config.getBasis",[],"sdql.Config_getBasis_Ans")'>
   </label>
 
   <div id="sdql.Config_getBasis_Ans" class="alphaNum"></div>
</form>
<a href="#top">top</a> <a href="#sdql.Config">parent</a>


<form id="sdql.Config.getMappings" class="elegant-aero">

 <h1><small>sdql.Config.getMappings</small></h1>
   <label>
     <span></span>
     <input value="submit" type="button" onclick='JavaScript:xmlhttpPostSend("2NuRNo2HHIGz5Dko","getMappings","sdql.Config.getMappings",[],"sdql.Config_getMappings_Ans")'>
   </label>
 
   <div id="sdql.Config_getMappings_Ans" class="alphaNum"></div>
</form>
<a href="#top">top</a> <a href="#sdql.Config">parent</a>


<form id="sdql.Config.getRules" class="elegant-aero">

 <h1><small>sdql.Config.getRules</small></h1>
   <label>
     <span></span>
     <input value="submit" type="button" onclick='JavaScript:xmlhttpPostSend("2NuRNo2HHIGz5Dko","getRules","sdql.Config.getRules",[],"sdql.Config_getRules_Ans")'>
   </label>
 
   <div id="sdql.Config_getRules_Ans" class="alphaNum"></div>
</form>
<a href="#top">top</a> <a href="#sdql.Config">parent</a>


<form id="sdql.Config.setBasisAndRules" class="elegant-aero">

 <h1><small>sdql.Config.setBasisAndRules</small></h1>

   <label>
    <span>basis [Text]:</span>
    <textarea id="sdql.Config.setBasisAndRules_basis" name="basis">reducedBasis = \
  ContractDefinition           (id:Int[statementID], startChar:Int, numChars:Int, fullyImplemented:Boolean, linearizedBaseContracts:Int, isLibrary:Boolean, name:String);\
  Return                       (id:Int[statementID], startChar:Int, numChars:Int);\
  FunctionDefinition           (id:Int[statementID], startChar:Int, numChars:Int, constant:Boolean, payable:Boolean, visibility:String, name:String);\
  IfStatement                  (id:Int[statementID], startChar:Int, numChars:Int);\
  UserDefinedTypeName          (id:Int[statementID], startChar:Int, numChars:Int, name:String);\
  FunctionCall                 (id:Int[statementID], startChar:Int, numChars:Int, typeconversion:Boolean, type:String);\
  IndexAccess                  (id:Int[statementID], startChar:Int, numChars:Int, type:String);\
  Literal                      (id:Int[statementID], startChar:Int, numChars:Int, hexvalue:String, subdenomination:String, token:String, type:String, value:String);\
  UnaryOperation               (id:Int[statementID], startChar:Int, numChars:Int, prefix:Boolean, type:String, operator:String);\
  Mapping                      (id:Int[statementID], startChar:Int, numChars:Int);\
  WhileStatement               (id:Int[statementID], startChar:Int, numChars:Int);\
  StructDefinition             (id:Int[statementID], startChar:Int, numChars:Int, name:String);\
  ParameterList                (id:Int[statementID], startChar:Int, numChars:Int);\
  Break                        (id:Int[statementID], startChar:Int, numChars:Int);\
  PragmaDirective            ! (id:Int[statementID], startChar:Int, numChars:Int, literals:String);\
  VariableDeclaration          (id:Int[statementID], startChar:Int, numChars:Int, name:String, type:String);\
  ElementaryTypeName           (id:Int[statementID], startChar:Int, numChars:Int, name:String);\
  PlaceholderStatement         (id:Int[statementID], startChar:Int, numChars:Int);\
  ForStatement                 (id:Int[statementID], startChar:Int, numChars:Int);\
  Identifier                   (id:Int[statementID], startChar:Int, numChars:Int, type:String, value:String);\
  ModifierDefinition           (id:Int[statementID], startChar:Int, numChars:Int, name:String);\
  Assignment                   (id:Int[statementID], startChar:Int, numChars:Int, type:String, operator:String);\
  DoWhileStatement             (id:Int[statementID], startChar:Int, numChars:Int);\
  ModifierInvocation           (id:Int[statementID], startChar:Int, numChars:Int);\
  Block                        (id:Int[statementID], startChar:Int, numChars:Int);\
  EventDefinition              (id:Int[statementID], startChar:Int, numChars:Int, name:String);\
  BinaryOperation              (id:Int[statementID], startChar:Int, numChars:Int, type:String, operator:String);\
  Continue                     (id:Int[statementID], startChar:Int, numChars:Int);\
  Throw                        (id:Int[statementID], startChar:Int, numChars:Int);\
  ExpressionStatement          (id:Int[statementID], startChar:Int, numChars:Int);\
  MemberAccess                 (id:Int[statementID], startChar:Int, numChars:Int, membername:String, type:String);\
  VariableDeclarationStatement (id:Int[statementID], startChar:Int, numChars:Int);\
  UsingForDirective            (id:Int[statementID], startChar:Int, numChars:Int);\
  ElementaryTypeNameExpression (id:Int[statementID], startChar:Int, numChars:Int, type:String, value:String);\
  ArrayTypeName                (id:Int[statementID], startChar:Int, numChars:Int);\
  InheritanceSpecifier         (id:Int[statementID], startChar:Int, numChars:Int);\
  TupleExpression              (id:Int[statementID], startChar:Int, numChars:Int);\
  NewExpression                (id:Int[statementID], startChar:Int, numChars:Int, type:String);\
  EnumDefinition               (id:Int[statementID], startChar:Int, numChars:Int, name:String);\
  EnumValue                    (id:Int[statementID], startChar:Int, numChars:Int, name:String);\
  Parent                       (parent:Int{statementID}, child:Int{statementID});\
  Pred                         (pred:Int{statementID}, succ:Int{statementID});\
  LastChild                    (parent:Int{statementID}, child:Int{statementID});\
  FirstChild                   (parent:Int{statementID}, child:Int{statementID});\
  Src                          (id:Int[statementID], startChar:Int, numChars:Int, text:String);\
  NumChildren                  (id:Int[statementID], value:Int);\
  NumDescendents               (id:Int[statementID], value:Int);\

extendedBasis = \
  Flow                         (src:Int{statementID}, dest:Int{statementID});\
  Nop                          (id :Int[statementID]);\
  FlowAcross                   (src:Int{statementID}, dest:Int{statementID});\
  FunctionCode                 (funcID:Int[functionID], id:Int[statementID]);\
  SecondChild                  (parent:Int{statementID}, child:Int{statementID});\
  FuncParamDef                 (stmt:Int{statementID}, params:Int{statementID});\
  FuncRetDef                   (stmt:Int{statementID}, returns:Int{statementID});\
  FuncBody                     (stmt:Int{statementID}, body:Int{statementID});\
  Func                         (funcID:Int[functionID], id:Int[statementID]);\
  Ancestor                     (parent:Int{statementID}, child:Int{statementID});\
  Invoke                       (id :Int[statementID], objType:String, instanceName:String, methodName:String, retType:String);\
  Assign                       (id :Int[statementID], variableName:String, variableType:String, rhsType:String, rhsValue:String);\
  InLoop                       (stmt:Int{statementID});\
</textarea><br>
   </label>


   <label>
    <span>rules [Text]:</span>
    <textarea id="sdql.Config.setBasisAndRules_rules" name="rules">
// declarations
Declaration(?x, ?variableName, ?userDefinedType, ?variableType) :- 
              FunctionCode(?f, ?x), 
              VariableDeclarationStatement(?x, ?startChar1, ?numChar1), 
              VariableDeclaration(?y, ?startChar2, ?numChar2, ?variableName, ?variableType),
              UserDefinedTypeName(?z, ?startChar3, ?numChar3, ?userDefinedType),
              Parent(?x, ?y).

Declaration(?x, ?variableName, ?elementaryType, ?variableType) :- 
              FunctionCode(?f, ?x), 
              VariableDeclarationStatement(?x, ?startChar1, ?numChar1), 
              VariableDeclaration(?y, ?startChar2, ?numChar2, ?variableName, ?variableType),
              ElementaryTypeName(?z, ?startChar3, ?numChar3, ?elementaryType),
              Parent(?x, ?y).

Assign(?x, ?variableName, ?elementaryType, ?literalType, ?literalValue) :- 
              Declaration(?x, ?variableName, ?elementaryType, ?variableType), 
              Literal(?y, ?startChar1, ?numChar1, ?hex, ?subden, ?token, ?literalType, ?literalValue),
              Parent(?x, ?y).
              
Assign(?x, ?identifierValue, ?variableType, ?identifierType, ?identifierValue) :-
              FunctionCode(?f, ?x), 
              Parent(?x, ?y),
              Assignment(?y, ?startChar1, ?numChar1, ?variableType, ?operator),
              Identifier(?z, ?startChar2, ?numChar2, ?identifierType, ?identifierValue),
              Parent(?y, ?z).
              
Nop(?x) :- ExpressionStatement(?x, ?startChar, ?numChar).
Nop(?x) :- Identifier(?x, ?startChar, ?numChars, ?type, ?value).
Nop(?x) :- Literal(?x, ?startChar, ?numChars, ?hexvalue, ?subdenomination, ?token, ?type, ?value).
Nop(?x) :- BinaryOperation(?x, ?startChar, ?numChar, ?type, ?operator).
Nop(?x) :- UnaryOperation(?x, ?startChar, ?numChar, ?prefix, ?type, ?operator).
Nop(?x) :- Block(?x, ?startChar, ?numChar).
Nop(?x) :- UserDefinedTypeName(?x, ?startChar, ?numChar, ?name).
Nop(?x) :- IfStatement(?x, ?startChar, ?numChar).
Nop(?x) :- WhileStatement(?x, ?startChar, ?numChar).
Nop(?x) :- DoWhileStatement(?x, ?startChar, ?numChar).
Nop(?x) :- MemberAccess(?x, ?startChar, ?numChars, ?membername, ?type).
Nop(?x) :- BreakStmt(?x).

// loops

FirstChildAncestor(?ancestor, ?descendent) :- Ancestor(?x, ?descendent), FirstChild(?ancestor, ?x).

InLoop(?x) :- WhileStatement(?y, ?startChar, ?numChars), Ancestor(?y, ?x).
InLoop(?x) :- ForStatement(?y, ?startChar, ?numChars), Ancestor(?y, ?x), ! FirstChildAncestor(?y, ?x).

BreakStmt(?x) :- Throw(?x, ?startChar, ?numChars).   
BreakStmt(?x) :- Return(?x, ?startChar, ?numChars).   
BreakStmt(?x) :- Break(?x, ?startChar, ?numChars).   
BreakStmt(?x) :- Continue(?x, ?startChar, ?numChars).   

Flow(?x, ?y) :- FunctionCode(?z, ?x), FunctionCode(?z, ?y),
              Ancestor(?ax, ?x),
              Pred(?ax, ?y), 
              Ancestor(?x, ?someStmt), 
              !BreakStmt(?someStmt).

// there is flow from x to y if: 
//     both x and y are inside the same function's code for some function z, and
//     some x's ancestor ax is a predecessor of some y's ancestor ay, and
//     those two ancestors ax and ay are descendents of function z, and
//     x is not the ancestor of a BreakStmt statement
// or ... (see below)

Flow(?x, ?y) :- FunctionCode(?f, ?x), FunctionCode(?f, ?y), Parent(?x, ?y).
Flow(?x, ?y) :- Flow(?x, ?z), Flow(?z, ?y).
//     x is a parent of y and both are in the same function's code

FlowAcross(?x, ?y) :- Invoke(?x, ?objType, ?instanceName, ?methodName, ?retType), 
                      FunctionDefinition(?z, ?startChar1, ?numChars1, ?constant, ?payable, ?visibility, ?methodName),
                      Block(?y, ?startChar2, ?numChars2),
                      Parent(?z, ?y).                     
// from one method to another
                    
FunctionCode(?z, ?y) :- Ancestor(?x, ?y), 
                     FunctionDefinition(?z, ?startChar1, ?numChars1, ?constant, ?payable, ?visibility, ?name),
                     Block(?x, ?startChar2, ?numChars2),
                     Parent(?z, ?x).                     
// y is code inside function z if:
//    y is inside a 'Block' node x that is the child of a 'FunctionDefinition' node z


Ancestor(?x, ?y) :- Ancestor(?x, ?z), Ancestor(?z, ?y).

Ancestor(?x, ?y) :- Parent(?x, ?y).

SecondChild(?x, ?y) :- FirstChild(?x, ?z), Pred(?z, ?y).

FuncParamDef(?x, ?y) :- FirstChild(?x, ?y), FunctionDefinition(?x, ?startChar, ?numChars, ?constant, ?payable, ?visibility, ?name).

FuncRetDef(?x, ?y) :- FuncParamDef(?x, ?z), Pred(?z, ?y).

FuncBody(?x, ?y) :- FuncRetDef(?x, ?z), Pred(?z, ?y).

Func(?x, ?x) :- FuncParamDef(?x, ?y).

Invoke(?statementID, ?objType, ?instanceName, ?methodName, ?retType) :- 
       FunctionCall(?statementID, ?startChar1, ?numChars1, ?typeConversion, ?retType), 
       MemberAccess(?subStatementID, ?startChar2, ?numChars2, ?methodName, ?type1), 
       FirstChild(?statementID, ?subStatementID),  
       MemberAccess(?subSubStatementID, ?startChar3, ?numChars3, ?instanceName, ?objType),
       FirstChild(?subStatementID, ?subSubStatementID).
       
Invoke(?statementID, ?objType, ?instanceName, ?methodName, ?retType) :-        
       FunctionCall(?statementID, ?startChar1, ?numChars1, ?typeConversion, ?retType), 
       MemberAccess(?subStatementID, ?startChar2, ?numChars2, ?methodName, ?type1), 
       FirstChild(?statementID, ?subStatementID),  
       Identifier(?subSubStatementID, ?startChar3, ?numChars3, ?objType, ?instanceName),
       Parent(?subStatementID, ?subSubStatementID).
       
Invoke(?statementID, 'unknown', 'this', ?methodName, ?retType) :-        
       FunctionCall(?statementID, ?startChar1, ?numChars1, ?typeConversion, ?retType), 
       Identifier(?subStatementID, ?startChar2, ?numChars2, ?idType, ?methodName), 
       FirstChild(?statementID, ?subStatementID).
       
Invoke(?statementID, 'unknown', 'this', '<constructor>', ?retType) :-        
       FunctionCall(?statementID, ?startChar1, ?numChars1, ?typeConversion, ?retType), 
       NewExpression(?subStatementID, ?startChar2, ?numChars2, ?idType), 
       FirstChild(?statementID, ?subStatementID).</textarea><br>
   </label>

   <label>
     <span></span>
     <input value="submit" type="button" onclick='JavaScript:xmlhttpPostSend("2NuRNo2HHIGz5Dko","setBasisAndRules","sdql.Config.setBasisAndRules",["basis","rules"],"sdql.Config_setBasisAndRules_Ans")'>
   </label>
 
   <div id="sdql.Config_setBasisAndRules_Ans" class="alphaNum"></div>
</form>
<a href="#top">top</a> <a href="#sdql.Config">parent</a>


<form id="sdql.Config.setMappings" class="elegant-aero">

 <h1><small>sdql.Config.setMappings</small></h1>

   <label>
    <span>mappings [Text]:</span>
    <textarea id="sdql.Config.setMappings_mappings" name="mappings">mappings sdql

map :invoke as $statementID => #Invoke;
map :src as $statementID => #Src;
map :text as $statementID => #Src.@text, $statementID => #Src.@text;
map :bothSrc as $statementID => #Src, $statementID => #Src;
map :firstSrc as $statementID => #Src, $statementID => ; 
map :function as $statementID => #FunctionDefinition.@startChar,@numChars,@name;

</textarea><br>
   </label>

   <label>
     <span></span>
     <input value="submit" type="button" onclick='JavaScript:xmlhttpPostSend("2NuRNo2HHIGz5Dko","setMappings","sdql.Config.setMappings",["mappings"],"sdql.Config_setMappings_Ans")'>
   </label>
 
   <div id="sdql.Config_setMappings_Ans" class="alphaNum"></div>
</form>
<a href="#top">top</a> <a href="#sdql.Config">parent</a>
<hr>
</body>
</html>